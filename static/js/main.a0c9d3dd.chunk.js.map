{"version":3,"sources":["Redux/DialogsReduser.tsx","Api/api.ts","assets/images/user.png","components/Users/users.module.css","components/NavBar/NavBar.module.css","components/Common/FormsControls/FormsControls.tsx","Utils/object.helper.ts","Redux/UsersReducer.ts","Redux/AuthReducer.ts","Redux/AppReducer.ts","Redux/redux-store.tsx","components/NavBar/NavBar.tsx","components/Settings/Settings.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Sidebar/Sidebar.tsx","components/Common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/Users.tsx","components/Users/usersSelectors.ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","App.tsx","index.tsx","components/Common/Preloader/Preloader.tsx","assets/images/preloader.gif","components/Common/FormsControls/FormsControls.module.css","Utils/Validators/validators.ts","components/Common/Paginator/Paginator.module.css","components/Header/Header.module.css","Redux/ProfileReduser.tsx"],"names":["initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","log","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","remember","captcha","logout","securityAPI","getCaptchaUrl","module","exports","FormControl","input","meta","props","child","hasError","touched","error","className","s","formControl","children","Textarea","restProps","Input","CreateField","placeholder","validators","component","text","validate","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","setToggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","filter","isAuth","captchaUrl","setAuthUserData","payload","getCaptchaUrlAC","getAuthUserData","url","authReducer","initialized","appReducer","rootReducer","combineReducers","profilePage","profileReducer","dialogsPage","usersPage","auth","form","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","NavBar","nav","item","to","activeClassName","active","Settings","News","Music","Sidebar","src","alt","Paginator","totalItemsCount","onPageChanged","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","photos","small","userPhoto","disabled","some","Users","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingProgress","UsersContainer","this","Preloader","React","Component","compose","connect","bind","page","Header","h","header","loginBlock","HeaderContainer","LoginReduxForm","reduxForm","handleSubmit","onSubmit","required","formSummaryError","length","stopSubmit","_error","DialogsContainer","lazy","ProfileContainer","App","initializeApp","exact","path","render","Suspense","fallback","sidebar","withRouter","promise","Promise","all","ReactDOM","StrictMode","document","getElementById","value","maxLengthCreator","maxLength30","posts","likesCount","addPostActionCreator","newPostText","setStatus","getUserProfile","file","getState","reject","newPost","postId"],"mappings":"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","file":"static/js/main.a0c9d3dd.chunk.js","sourcesContent":["/*type updateNewMessageBodyACType = {\r\n    type: 'UPDATE-NEW-MESSAGE-BODY'\r\n    body: string\r\n}*/\r\ntype sendMessageACType = {\r\n    type: 'SEND-MESSAGE'\r\n    newMessageBody: string\r\n}\r\nexport type ActionTypeDialogReducer =  sendMessageACType\r\n\r\nexport type DialogType = {\r\n    id: number\r\n    name: string\r\n}\r\nexport type MessageType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nexport type dialogPageType = typeof initialState\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Roman'},\r\n        {id: 2, name: 'Anna'},\r\n        {id: 3, name: 'Sofia'},\r\n        {id: 4, name: 'Robert'}\r\n\r\n    ] as Array<DialogType>,\r\n    messages: [\r\n        {id: 1, message: 'hi !'},\r\n        {id: 2, message: 'how are you ?'},\r\n        {id: 3, message: 'WTF?'}\r\n    ] as Array<MessageType>\r\n}\r\n\r\nconst dialogsReducer = (state: dialogPageType = initialState,\r\n                        action: ActionTypeDialogReducer): dialogPageType => {\r\n\r\n    switch (action.type) {\r\n       /* case 'UPDATE-NEW-MESSAGE-BODY':\r\n            return {\r\n                ...state,\r\n                newMessageBody: action.body\r\n            };*/\r\n        case 'SEND-MESSAGE':\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 4, message: body}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n/*export const updateNewMessageBodyCreator = (text: string): updateNewMessageBodyACType => ({\r\n    type: 'UPDATE-NEW-MESSAGE-BODY',\r\n    body: text\r\n} as const)*/\r\n\r\nexport const sendMessageCreator = (newMessageBody: string): sendMessageACType => ({\r\n    type: 'SEND-MESSAGE', newMessageBody\r\n} as const)\r\n\r\nexport default dialogsReducer;","import axios from \"axios\";\r\nimport {profileType} from \"../Redux/ProfileReduser\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '82d01912-7bcf-409a-9e81-ee3e3d5abae8'\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`,)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    follow(userId: number | null) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId: number | null) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId: number | null) {\r\n        console.log('Obsolete method. Please use profileAPI object')\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\nexport const profileAPI = {\r\n\r\n    getProfile(userId: number | null) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId: number | null) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status/`, {status: status})\r\n    },\r\n    savePhoto(photoFile: string) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile)\r\n        return instance.put(`profile/photo/`, formData,{\r\n            headers: {\r\n                'Content-Type' : 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profile: profileType) {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email: string, password: string, remember = false, captcha: string | null = null) {\r\n        return instance.post(`auth/login`, {email, password, remember, captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}\r\n\r\n","export default \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__1ZmEe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__1-8yx\",\"item\":\"NavBar_item__i7o89\",\"active\":\"NavBar_active__2CX6I\"};","import React from 'react'\r\nimport s from './FormsControls.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\n\r\n\r\nexport const FormControl: React.FC<any> = ({input, meta, child, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props: any) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props: any) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const CreateField = (placeholder: string | null, name: string,\r\n                            validators: any, component: any, props?: any, text?: string) => {\r\n    return <div>\r\n    <Field placeholder={placeholder}\r\n                  name={name}\r\n                  validate={validators}\r\n                  component={component}\r\n           {...props}\r\n    /> {text}\r\n\r\n    </div>\r\n}\r\n\r\n\r\n","\r\n\r\nexport const updateObjectInArray = (items: any, itemId: number, objPropName: any, newObjProps: any,   ) => {\r\n\r\n  // @ts-ignore\r\n    return  items.map(u  => {\r\n         if (u[objPropName] === itemId) {\r\n             return {...u, ...newObjProps}\r\n         }\r\n         return u;\r\n })\r\n}","import {usersAPI} from \"../Api/api\";\r\nimport {AppThunkType} from \"./redux-store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {updateObjectInArray} from \"../Utils/object.helper\";\r\n\r\n\r\ntype FollowACType = {\r\n    type: 'FOLLOW'\r\n    userId: number\r\n}\r\ntype UnFollowACType = {\r\n    type: 'UNFOLLOW'\r\n    userId: number\r\n}\r\ntype SetUsersACType = {\r\n    type: 'SET_USERS'\r\n    users: Array<UserType>\r\n}\r\ntype SetCurrentPageACType = {\r\n    type: 'SET_CURRENT_PAGE'\r\n    currentPage: number\r\n}\r\ntype SetUsersTotalCountACType = {\r\n    type: 'SET_USERS_TOTAL_COUNT'\r\n    totalCount: number\r\n}\r\ntype setToggleIsFetchingACType = {\r\n    type: 'TOGGLE_IS_FETCHING'\r\n    isFetching: boolean\r\n}\r\n\r\ntype setToggleIsFollowingProgressACType = {\r\n    type: 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n    isFetching: boolean\r\n    userId: number\r\n}\r\n\r\nexport type ActionTypeUserReducer = FollowACType | UnFollowACType\r\n    | SetUsersACType | SetCurrentPageACType | SetUsersTotalCountACType |\r\n    setToggleIsFetchingACType | setToggleIsFollowingProgressACType\r\n\r\ntype UserLocationType = {\r\n    city: string\r\n    country: string\r\n}\r\n\r\n\r\nexport type UserType = {\r\n    id: number\r\n    photos: {\r\n        small: string\r\n        large: string\r\n    }\r\n    followed: boolean\r\n    name: string\r\n    status: string\r\n    location: UserLocationType\r\n}\r\n\r\nlet initialState: initialStateType = {\r\n    users: [],\r\n    pageSize: 5,\r\n    // totalUsersCount: 0,\r\n    totalCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n\r\n};\r\nexport type initialStateType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    // totalUsersCount: number\r\n    totalCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<any>\r\n}\r\n\r\nconst usersReducer =\r\n    (state: initialStateType = initialState, action: ActionTypeUserReducer): initialStateType => {\r\n\r\n        switch (action.type) {\r\n            case 'FOLLOW':\r\n                return {\r\n                    ...state,\r\n                    users: updateObjectInArray(state.users,action.userId,'id',\r\n                        {followed: true})\r\n\r\n                   /* users: state.users.map(u => {\r\n                        if (u.id === action.userId) {\r\n                            return {...u, followed: true};\r\n                        }\r\n                        return u;\r\n                    })*/\r\n                };\r\n            case 'UNFOLLOW':\r\n                return {\r\n                    ...state,\r\n                    users: updateObjectInArray(state.users,action.userId,'id',\r\n                        {followed: false})\r\n\r\n                  /*  users: state.users.map(u => {\r\n                        if (u.id === action.userId) {\r\n                            return {...u, followed: false}\r\n                        }\r\n                        return u\r\n                    })*/\r\n                }\r\n            case 'SET_USERS': {\r\n                return {...state, users: action.users}\r\n            }\r\n            case 'SET_CURRENT_PAGE': {\r\n                return {...state, currentPage: action.currentPage}\r\n            }\r\n            case 'SET_USERS_TOTAL_COUNT': {\r\n                return {...state, totalCount: action.totalCount}\r\n            }\r\n            case 'TOGGLE_IS_FETCHING': {\r\n                return {...state, isFetching: action.isFetching}\r\n            }\r\n            case 'TOGGLE_IS_FOLLOWING_PROGRESS': {\r\n                return {\r\n                    ...state,\r\n                    followingInProgress: action.isFetching\r\n                        ? [...state.followingInProgress, action.userId]\r\n                        : state.followingInProgress.filter(id => id != action.userId)\r\n                }\r\n            }\r\n            default:\r\n                return state;\r\n        }\r\n    }\r\n\r\n\r\nexport const followSuccess = (userId: number): FollowACType =>\r\n    ({type: 'FOLLOW', userId} as const)\r\nexport const unfollowSuccess = (userId: number): UnFollowACType =>\r\n    ({type: 'UNFOLLOW', userId} as const)\r\nexport const setUsers = (users: Array<UserType>): SetUsersACType =>\r\n    ({type: 'SET_USERS', users} as const)\r\nexport const setCurrentPage = (currentPage: number): SetCurrentPageACType =>\r\n    ({type: 'SET_CURRENT_PAGE', currentPage} as const)\r\nexport const setTotalUsersCount = (totalCount: number): SetUsersTotalCountACType =>\r\n    ({type: 'SET_USERS_TOTAL_COUNT', totalCount} as const)\r\nexport const toggleIsFetching = (isFetching: boolean): setToggleIsFetchingACType =>\r\n    ({type: 'TOGGLE_IS_FETCHING', isFetching} as const)\r\nexport const setToggleFollowingProgress = (isFetching: boolean, userId: number): setToggleIsFollowingProgressACType =>\r\n    ({type: 'TOGGLE_IS_FOLLOWING_PROGRESS', isFetching, userId} as const)\r\n\r\n\r\nexport const requestUsers = (page: number, pageSize: number) => {\r\n    return async (dispatch: Dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(page))\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n    }\r\n}\r\n\r\n\r\nconst followUnfollowFlow = async (dispatch: Dispatch,\r\n                                  userId: number,\r\n                                  apiMethod: any,\r\n                                  actionCreator: any) => {\r\n    dispatch(setToggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(setToggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId: number): AppThunkType => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: number): AppThunkType => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import {authAPI, securityAPI} from \"../Api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {AppThunkType} from \"./redux-store\";\r\n\r\n\r\ntype SetUserDataACType = {\r\n    type: 'network/auth/SET_USER_DATE'\r\n    payload: {\r\n        userId: number | null\r\n        email: string | null\r\n        login: string | null\r\n        isAuth: boolean\r\n    }\r\n}\r\ntype getCaptchaUrlACType = {\r\n    type: 'network/auth/GET_CAPTCHA_URL_SUCCESS'\r\n    payload: {\r\n        captchaUrl: string | null\r\n    }\r\n}\r\n\r\n\r\nexport type ActionTypeAuthReducer = SetUserDataACType | getCaptchaUrlACType\r\n\r\n\r\nlet initialState: initialStateType = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n};\r\nexport type initialStateType = {\r\n    userId:  number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n    captchaUrl: null | string\r\n}\r\n\r\nconst authReducer =\r\n    (state: initialStateType = initialState, action: ActionTypeAuthReducer): initialStateType => {\r\n\r\n        switch (action.type) {\r\n            case 'network/auth/SET_USER_DATE':\r\n            case \"network/auth/GET_CAPTCHA_URL_SUCCESS\":\r\n                return {\r\n                    ...state,\r\n                    ...action.payload\r\n                }\r\n\r\n\r\n            default:\r\n                return state;\r\n        }\r\n    }\r\n\r\n\r\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean): SetUserDataACType =>\r\n    ({type: 'network/auth/SET_USER_DATE', payload: {userId, email, login, isAuth}} as const)\r\n\r\nexport const getCaptchaUrlAC = (captchaUrl: string | null): getCaptchaUrlACType =>\r\n    ({type: 'network/auth/GET_CAPTCHA_URL_SUCCESS', payload: {captchaUrl}} as const)\r\n\r\nexport const getAuthUserData = (): AppThunkType => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n\r\n}\r\n\r\nexport const login = (email: string, password: string, remember: boolean, captcha: null | string): AppThunkType => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, remember, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = (): AppThunkType => async (dispatch) => {\r\n    let response = await securityAPI.getCaptchaUrl();\r\n    let captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlAC(captchaUrl))\r\n}\r\n\r\nexport const logout = (): AppThunkType => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;","\r\n\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport {getAuthUserData} from \"./AuthReducer\";\r\nimport {AppStateType, AppThunkType} from \"./redux-store\";\r\n\r\n\r\n\r\ntype SetUserDataACType = {\r\n    type: 'INITIALIZED_SUCCESS'\r\n    }\r\n\r\n\r\nexport type ActionTypeAppReducer = SetUserDataACType\r\n\r\n\r\nlet initialState: initialStateType = {\r\n    initialized: false\r\n};\r\nexport type initialStateType = {\r\n    initialized: boolean\r\n\r\n}\r\n\r\nconst appReducer =\r\n    (state: initialStateType = initialState, action: ActionTypeAppReducer): initialStateType => {\r\n\r\n        switch (action.type) {\r\n            case 'INITIALIZED_SUCCESS':\r\n                return {\r\n                    ...state,\r\n                    initialized: true\r\n                }\r\n            default:\r\n                return state;\r\n        }\r\n    }\r\n\r\n\r\nexport const initializedSuccess = (): SetUserDataACType =>\r\n    ({type: 'INITIALIZED_SUCCESS'} as const)\r\n\r\n\r\n\r\nexport const initializeApp = (): AppThunkType => (dispatch) => {\r\n  let promise =   dispatch(getAuthUserData());\r\n  Promise.all( [promise])\r\n      .then(()  => {\r\n      dispatch(initializedSuccess())\r\n  })\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer, {ActionTypeProfileReducer} from \"./ProfileReduser\";\r\nimport dialogsReducer, {ActionTypeDialogReducer} from \"./DialogsReduser\";\r\nimport usersReducer, {ActionTypeUserReducer} from \"./UsersReducer\";\r\nimport authReducer, {ActionTypeAuthReducer} from \"./AuthReducer\";\r\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer, {ActionTypeAppReducer} from \"./AppReducer\";\r\n\r\n\r\n\r\nexport let rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n\r\n type AllActionsType = ActionTypeAuthReducer\r\n    | ActionTypeAppReducer | ActionTypeDialogReducer\r\n    |ActionTypeProfileReducer | ActionTypeUserReducer\r\n\r\n\r\nexport type AppThunkType<ReturnType = void> = ThunkAction<\r\n    ReturnType,\r\n    AppStateType,\r\n    unknown,\r\n    AllActionsType\r\n    >\r\n\r\nlet store  = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\nexport default store;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './NavBar.module.css'\r\n\r\n\r\nexport default function NavBar() {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to='/profile' activeClassName={s.active}> Profile </NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/dialogs' activeClassName={s.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/music'activeClassName={s.active}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    );\r\n}","import React from 'react';\r\nimport s from './Settings.module.css'\r\n\r\nexport default function Settings() {\r\n    return (\r\n       <div>\r\n           Settings\r\n       </div>\r\n    );\r\n}","import React from 'react';\r\nimport  n  from './News.module.css'\r\nexport default function News() {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport m from './Music.module.css'\r\n\r\nexport default function Music() {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nimport s from './Sidebar.module.css'\r\n\r\nexport default function Sidebar() {\r\n    return (\r\n       <div>\r\n          Friends\r\n           <div>\r\n               <img src=\"http://pngimg.com/uploads/batman/batman_PNG41.png\" alt=\"logo\"/>\r\n               <p>Brad Pitt</p>\r\n           </div>\r\n           <div>\r\n               <img src=\"https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/e2ff7567-427a-43e8-9446-b08937695ae9/d9m5yji-8813bee6-2c33-4ee5-bee7-8bab8f458948.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOiIsImlzcyI6InVybjphcHA6Iiwib2JqIjpbW3sicGF0aCI6IlwvZlwvZTJmZjc1NjctNDI3YS00M2U4LTk0NDYtYjA4OTM3Njk1YWU5XC9kOW01eWppLTg4MTNiZWU2LTJjMzMtNGVlNS1iZWU3LThiYWI4ZjQ1ODk0OC5wbmcifV1dLCJhdWQiOlsidXJuOnNlcnZpY2U6ZmlsZS5kb3dubG9hZCJdfQ.NKZswdg4vZChczHzRcpM2-Jb9BTJ6ye74_uvujaHzpA\" alt=\"logo\"/>\r\n               <p>John Connor</p>\r\n           </div>\r\n           <div>\r\n               <img src=\"https://cdn.freebiesupply.com/images/large/2x/starbucks-logo-png-transparent.png\" alt=\"logo\"/>\r\n               <p>Nickolas</p>\r\n           </div>\r\n       </div>\r\n    );\r\n}","import React, {useState} from \"react\";\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\"\r\n\r\n\r\ntype OnPageChangedType1 = {\r\n\r\n    pageSize: number\r\n    currentPage: number\r\n    totalItemsCount: number\r\n    onPageChanged: (page: number) => void\r\n   // portionSize: number\r\n\r\n}\r\n\r\nlet Paginator: React.FC<OnPageChangedType1> = ({totalItemsCount, pageSize,currentPage, onPageChanged,} ) => {\r\n    let  portionSize= 20\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={styles.paginator}>\r\n            {portionNumber > 1 &&\r\n            <button onClick={() => {setPortionNumber(portionNumber - 1)}}>PREV</button> }\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map((p) => {\r\n\r\n                    // add \"import cn from 'classnames'\"\r\n\r\n                    return <span className={ cn ({\r\n                        [styles.selectedPage]: currentPage === p\r\n                    }, styles.pageNumber) }\r\n                                 key={p}\r\n                                 onClick={(e) => {onPageChanged(p);\r\n                                 }}>{p}</span>\r\n                })}\r\n            {portionCount > portionNumber &&\r\n            <button onClick={()=> {setPortionNumber(portionNumber + 1) }}>NEXT</button>\r\n            }\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default Paginator;","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {UserType} from \"../../Redux/UsersReducer\";\r\n\r\n\r\ntype OnPageChangedType = {\r\n    user: UserType\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    followingInProgress: Array<any>\r\n\r\n}\r\n\r\nlet User: React.FC<OnPageChangedType> = ({user, followingInProgress, follow, unfollow}) => {\r\n    return (\r\n        <div>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={'/profile/' + user.id}>\r\n                            <img src={user.photos.small ? user.photos.small : userPhoto}\r\n                                 alt=\"user\" className={styles.userPhoto}/>\r\n                                </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            {!user.followed\r\n                                ? <button\r\n                                    disabled={followingInProgress.some(id => id === user.id)}\r\n                                    onClick={() => {\r\n                                        follow(user.id)\r\n                                    }}>follow</button>\r\n                                : <button\r\n                                    disabled={followingInProgress.some(id => id === user.id)}\r\n                                    onClick={() => {\r\n                                        unfollow(user.id)\r\n                                    }}\r\n                                >Unfollow</button>}\r\n\r\n                        </div>\r\n                    </span>\r\n            <span>\r\n                        <span>\r\n                            <div>{user.name}</div>\r\n                            <div>{user.status}</div>\r\n                        </span>\r\n                        <span>\r\n                            <div>{'user.location.country'}</div>\r\n                            <div>{'user.location.city'}</div>\r\n                        </span>\r\n                    </span>\r\n        </div>)\r\n\r\n\r\n}\r\n\r\nexport default User","import React from \"react\";\r\nimport {UserType} from \"../../Redux/UsersReducer\";\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\ntype OnPageChangedType = {\r\n    pageSize: number\r\n    currentPage: number\r\n    totalItemsCount: number\r\n   // portionSize: number\r\n    onPageChanged: (page: number) => void\r\n\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    followingInProgress: Array<any>\r\n    users: Array<UserType>\r\n}\r\n\r\nlet Users = (props: OnPageChangedType) => {\r\n    return (\r\n        <div>\r\n            <Paginator pageSize={props.pageSize}\r\n                       currentPage={props.currentPage}\r\n                       onPageChanged={props.onPageChanged}\r\n                     //  portionSize={props.portionSize}\r\n                       totalItemsCount={props.totalItemsCount}\r\n\r\n            />\r\n            <div>\r\n                {props.users.map(u => <User user={u}\r\n                                            follow={props.follow}\r\n                                            unfollow={props.unfollow}\r\n                                            key={u.id}\r\n                                            followingInProgress={props.followingInProgress}\r\n                    />\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users","import {AppStateType} from \"../../Redux/redux-store\";\r\n\r\nexport const getUsers = (state: AppStateType) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalCount;\r\n}\r\n\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport {\r\n    setCurrentPage, setToggleFollowingProgress,\r\n    UserType, requestUsers, follow, unfollow\r\n} from \"../../Redux/UsersReducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"./usersSelectors\";\r\n\r\n\r\ntype mapStateToPropsType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    currentPage: number\r\n    totalItemsCount: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<any>\r\n}\r\n\r\n\r\nexport  type UsersPropsType = mapStateToPropsType & mapDispatchToPropsType\r\n\r\n\r\n/*\r\n\r\nlet mapDispatchToProps = (dispatch: Dispatch): mapDispatchToPropsType => {\r\n    return {\r\n        follow: (userId: number) => {\r\n            dispatch(follow(userId))\r\n        },\r\n        unFollow: (userId: number) => {\r\n            dispatch(unFollow(userId))\r\n        },\r\n        setUsers: (users:Array<UserType>) => {\r\n            dispatch(setUsers(users))\r\n        },\r\n        setCurrentPage: ( currentPage: number) => {\r\n            dispatch(setCurrentPage(currentPage))\r\n        },\r\n        setTotalUsersCount: (totalCount: number) => {\r\n          dispatch(setUsersTotalCount(totalCount))\r\n        },\r\n        toggleIsFetching: (isFetching: boolean) => {\r\n            dispatch(setToggleIsFetching(isFetching))\r\n        }\r\n    }\r\n}*/\r\n\r\nclass UsersContainer extends React.Component<UsersPropsType> {\r\n\r\n    componentDidMount() {\r\n        const {currentPage,pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize)\r\n\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        const {pageSize} = this.props\r\n        this.props.getUsers(pageNumber, pageSize)\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        return (<>\r\n                {this.props.isFetching ?\r\n                    <Preloader/> : null}\r\n\r\n                <Users totalItemsCount={this.props.totalItemsCount}\r\n                       pageSize={this.props.pageSize}\r\n                       currentPage={this.props.currentPage}\r\n                       onPageChanged={this.onPageChanged}\r\n                      // portionSize={portionSize}\r\n\r\n                       users={this.props.users}\r\n                       follow={this.props.follow}\r\n                       unfollow={this.props.unfollow}\r\n                       followingInProgress={this.props.followingInProgress}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\ntype mapDispatchToPropsType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    setCurrentPage: (currentPage: number) => void\r\n    setToggleFollowingProgress: (isFetching: boolean, userId: number) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n\r\n}\r\n\r\n/*let mapStateToProps = (state: AppStateType): mapStateToPropsType => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalCount: state.usersPage.totalCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress\r\n    }\r\n}*/\r\n\r\n//use selectors :\r\nlet mapStateToProps = (state: AppStateType): mapStateToPropsType => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalItemsCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect<mapStateToPropsType, mapDispatchToPropsType, {}, AppStateType>(mapStateToProps,\r\n        {\r\n            follow,\r\n            unfollow,\r\n            setCurrentPage,\r\n            setToggleFollowingProgress,\r\n            getUsers: requestUsers\r\n        })\r\n)(UsersContainer)","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport h from './Header.module.css';\r\n\r\n\r\nexport default function Header(props: any) {\r\n    return <header className={h.header}>\r\n        <img\r\n            src=\"https://previews.123rf.com/images/mackdsgn/mackdsgn1602/mackdsgn160200050/53552462-social-network-logo-template-business-logo-template-vector.jpg\"\r\n            alt=\"logo\"/>\r\n        <div className={h.loginBlock}>\r\n            {props.isAuth\r\n                ? <div> {props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                : <NavLink to={'/login'}>Login</NavLink>}\r\n\r\n        </div>\r\n    </header>;\r\n\r\n}\r\n;","import React from 'react';\r\nimport Header from './Header';\r\nimport {connect} from \"react-redux\";\r\nimport { logout} from \"../../Redux/AuthReducer\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\n\r\n\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    login:   string | null\r\n}\r\ntype MapDispatchPropsType = {\r\n    logout: any\r\n}\r\n\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component<PropsType> {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n","import React from 'react';\r\nimport {InjectedFormProps, reduxForm} from 'redux-form';\r\nimport {CreateField, Input} from '../Common/FormsControls/FormsControls';\r\nimport {required} from \"../../Utils/Validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../Redux/AuthReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport s from './../Common/FormsControls/FormsControls.module.css'\r\n\r\ntype FormDateType = {\r\n    email: string\r\n    password: string\r\n    remember: boolean\r\n    captcha: string | null\r\n}\r\n\r\ntype LoginPropsType = {\r\n    captchaUrl: null | string\r\n}\r\n\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDateType, LoginPropsType> & LoginPropsType> =\r\n    ({handleSubmit, error, captchaUrl}) => {\r\n        debugger\r\n\r\n        return (\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                {CreateField('Email', 'email', [required], Input)}\r\n                {CreateField('Password', 'password', [required], Input, {type: 'password'})}\r\n                {CreateField(null, 'remember', [], Input, {type: 'checkbox'}, 'remember me')}\r\n\r\n                {captchaUrl && <img src={captchaUrl}/>}\r\n                {/*{captchaUrl && <h1>captch</h1>}*/}\r\n                {captchaUrl && CreateField('Symbols from images', 'captcha', [required], Input, {})}\r\n\r\n\r\n                {error && <div className={s.formSummaryError}>{error}</div>}\r\n                <div>\r\n                    <button>Login</button>\r\n                </div>\r\n            </form>\r\n\r\n        )\r\n    }\r\n\r\nconst LoginReduxForm = reduxForm<FormDateType, LoginPropsType>({\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\n\r\ntype MapStatePropsType = {\r\n    captchaUrl: null | string\r\n    isAuth: boolean\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    login: (email: string, password: string, remember: boolean, captcha: null | string) => void\r\n}\r\n\r\n\r\nconst Login: React.FC<MapStatePropsType & MapDispatchPropsType> = (props) => {\r\n    debugger\r\n\r\n    const onSubmit = (formData: FormDateType) => {\r\n        props.login(formData.email, formData.password, formData.remember, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/'}/>             //  '/profile'\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import React from 'react';\nimport './App.css';\nimport NavBar from './components/NavBar/NavBar'\nimport Settings from \"./components/Settings/Settings\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Sidebar from \"./components/Sidebar/Sidebar\";\nimport {Redirect, Route, Switch, withRouter} from 'react-router-dom';\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./Redux/AppReducer\";\nimport {AppStateType} from \"./Redux/redux-store\";\nimport Preloader from \"./components/Common/Preloader/Preloader\";\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"))\nconst ProfileContainer = React.lazy(() => import (\"./components/Profile/ProfileContainer\"))\n\n\nclass App extends React.Component<PropsType> {\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <NavBar/>\n                <div className='app-wrapper-content'>\n                    <Switch>\n                        <Route exact path='/'\n                               render={() => <Redirect to= {'/profile'}/>}/>\n\n                    <Route path='/dialogs'\n                           render={() => {\n                               return <React.Suspense fallback={<Preloader/>}>\n                                   <DialogsContainer/>\n                               </React.Suspense>\n                           }}/>\n\n                    <Route path='/profile/:userId?'\n                           render={() => {\n                               return <React.Suspense fallback={<Preloader/>}>\n                                   <ProfileContainer/>\n                               </React.Suspense>\n\n                           }}/>\n\n                    <Route path='/users'\n                           render={() => <UsersContainer/>}/>\n\n                    <Route path='/login'\n                           render={() => <Login/>}/>\n\n\n                    <Route path='/news' component={News}/>\n                    <Route path='/music' component={Music}/>\n                    <Route path='/settings' component={Settings}/>\n                    <Route path='/sidebar' sidebar={Sidebar}/>\n                        {/*<Route path='/*'*/}\n                        {/*       render={() => <div>404 PAGE NOT FOUND </div>}/>*/}\n                    </Switch>\n                    </div>\n            </div>\n\n        );\n    }\n}\n\ntype PropsType = MapStatePropsType & MapDispatchPropsType\n\ntype MapDispatchPropsType = {\n    initializeApp: () => void\n}\ntype MapStatePropsType = {\n    initialized: boolean\n}\n\n\nconst mapStateToProps = (state: AppStateType) => ({\n    initialized: state.app.initialized\n})\n\n\nexport default compose<React.ComponentType>(\n    withRouter,\n    connect(mapStateToProps, {initializeApp})\n)(App);\n\n","\nimport store from \"./Redux/redux-store\";\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from \"react-router-dom\";\nimport  {Provider} from \"react-redux\";\n\n\n\n\n\n    ReactDOM.render(\n        <React.StrictMode>\n            <BrowserRouter>\n                <Provider  store={store}>\n                <App />\n                </Provider>\n            </BrowserRouter>\n\n        </React.StrictMode>,\n        document.getElementById('root')\n    );\n\n\n\n\n","import React from \"react\";\r\nimport preloader from \"../../../assets/images/preloader.gif\"\r\n\r\nlet Preloader = () => {\r\n    return (\r\n        <div>\r\n            <img src={preloader} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader","export default \"data:image/gif;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1AsOv\",\"error\":\"FormsControls_error__3gh6v\",\"formSummaryError\":\"FormsControls_formSummaryError__1V_bD\"};","\r\nexport const required = (value: Array<string>) => {\r\n    if(value) return undefined\r\n    return ' Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength30: number) =>(value: Array<string>) => {\r\n    if( value.length > 30) return `Max length is ${maxLength30} symbols `\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__Vkrlj\",\"paginator\":\"Paginator_paginator__154hG\",\"pageNumber\":\"Paginator_pageNumber__18F98\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1lit6\",\"loginBlock\":\"Header_loginBlock__3slSa\"};","import {profileAPI, usersAPI} from \"../Api/api\";\r\n\r\nimport {AppThunkType} from \"./redux-store\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\n\r\ntype addPostACType = {\r\n    type: 'ADD-POST'\r\n    newPostText: string\r\n}\r\ntype updateNewPostTextACType = {\r\n    type: 'UPDATE-NEW-POST-TEXT'\r\n    newText: string\r\n}\r\ntype setUserProfileACType = {\r\n    type: 'SET-USER-PROFILE'\r\n    profile: any\r\n}\r\ntype setStatusACType = {\r\n    type: 'SET-STATUS'\r\n    status: string\r\n}\r\n\r\ntype deletePostACType = {\r\n    type: 'DELETE_POST'\r\n    postId: number\r\n}\r\ntype savePhotoACType = {\r\n    type: 'SAVE_PHOTO_SUCCESS'\r\n    photos: string\r\n}\r\n\r\nexport type ActionTypeProfileReducer = addPostACType |\r\n    updateNewPostTextACType |\r\n    setUserProfileACType |\r\n    setStatusACType | deletePostACType | savePhotoACType\r\n\r\nexport type PostsType = {\r\n    id: number\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\nexport type initialStateType = {\r\n    posts: Array<PostsType>\r\n    profile: any\r\n    status: string\r\n}\r\nexport type ContactType = {\r\n    github: string | null\r\n    vk: string | null\r\n    facebook: string | null\r\n    instagram: string | null\r\n    twitter: string | null\r\n    website: string | null\r\n    youtube: string | null\r\n    mainLink: string | null\r\n}\r\n\r\nexport type profileType = {\r\n    userId: number | null\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    contacts: Array<ContactType>\r\n    photos: { small: string, large: string }\r\n}\r\n\r\nlet initialState: initialStateType = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you ?', likesCount: 12},\r\n        {id: 2, message: \"It's my firs post\", likesCount: 11}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state: initialStateType\r\n                            = initialState, action: ActionTypeProfileReducer): initialStateType => {\r\n    switch (action.type) {\r\n        case 'ADD-POST': {\r\n            let newPost = {\r\n                id: 6,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        }\r\n\r\n        case \"SET-USER-PROFILE\" : {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case \"SET-STATUS\" : {\r\n            return {...state, status: action.status}\r\n        }\r\n        case \"DELETE_POST\" : {\r\n            return {...state, posts: state.posts.filter(p => p.id != action.postId)}\r\n        }\r\n        case \"SAVE_PHOTO_SUCCESS\" : {\r\n            return {...state, profile: {...state.profile, photos: action.photos}}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText: string): addPostACType => ({\r\n    type: 'ADD-POST', newPostText\r\n} as const)\r\n\r\n\r\nexport const setUserProfile = (profile: profileType): setUserProfileACType => ({\r\n    type: 'SET-USER-PROFILE',\r\n    profile: profile\r\n} as const)\r\nexport const setStatus = (status: string): setStatusACType => ({\r\n    type: 'SET-STATUS',\r\n    status: status\r\n} as const)\r\n\r\nexport const deletePost = (postId: number): deletePostACType => ({\r\n    type: 'DELETE_POST', postId\r\n} as const)\r\n\r\nexport const savePhotoSuccess = (photos: string): savePhotoACType => ({\r\n    type: 'SAVE_PHOTO_SUCCESS', photos\r\n} as const)\r\n\r\n\r\n//Thunk\r\nexport const getUserProfile = (userId: number | null): AppThunkType => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data));\r\n}\r\nexport const getStatus = (userId: number | null): AppThunkType => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data));\r\n}\r\nexport const updateStatus = (status: string): AppThunkType => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\nexport const savePhoto = (file: string): AppThunkType => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        debugger\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n}\r\nexport const saveProfile = (profile: profileType): AppThunkType => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        dispatch(stopSubmit('edit-profile', {_error: response.data.message[0]}))\r\n        return Promise.reject(response.data.message[0]);\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}